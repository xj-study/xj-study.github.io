---
title: v0.0.2.1
---

针对如何自动调用函数 `effect` 的问题，通过一番观察及思考后，我们发现，我们只需要在对象修改属性值时，调用函数 `effect` ，就能达到目的。

上述描述感觉跟上节所说的是同一种方式，其实不然，不同在哪里呢？请仔细看下文。

针对代码 `obj.text = 'hello vue3'` ，我们需要改造一下，直接这样修改对象的属性值时，我们目前好像也做不了什么（不是真的做不了啥），若是将`.text` 赋值操作，换成`.setText` 方法操作，然后在这个 `setText` 方法里，不光处理赋值操作，还多做点别的，如执行函数 `effect` 。

具体实现如下所示：
@[code js{2-6,9-11}](@src/vue3/v-0.0.2/v0.1.1.1/index.js)

通过为对象增加 setter 方法的方式，看上去跟之前的 [v0.0.2.0](v0.0.2.0.md) 版本差别不大，
但其实不是，我们通过这么一下小小的封装，就会得到一个很明显的好处，那就是代码实现更内聚了，当对应的 setter 方法在多处调用的情况下，优势将更加明显。

<Demo :content="['hello world!', 'hello vue3']"></Demo>
